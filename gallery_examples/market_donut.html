
<!DOCTYPE html>
<html>
<head>
    <title>Gallery Inspired: Revenue by Market Segment (Billions $)</title>
    <script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script>
</head>
<body>
    <h1>Gallery Inspired: Revenue by Market Segment (Billions $)</h1>
    <div id="plot"></div>
    <script>
        const data = [{"segment":"Enterprise","revenue":45.2},{"segment":"Small Business","revenue":28.7},{"segment":"Consumer","revenue":15.8},{"segment":"Education","revenue":6.3},{"segment":"Government","revenue":4}];
        const width = 600;
        const height = 400;
        const radius = Math.min(width, height) / 2;
        
        const color = d3.scaleOrdinal(d3.schemeCategory10);
        const pie = d3.pie().value(d => d.revenue);
        const arc = d3.arc().innerRadius(radius * 0.4).outerRadius(radius);
        
        const svg = d3.select("#plot")
          .append("svg")
          .attr("width", width)
          .attr("height", height)
          .append("g")
          .attr("transform", `translate(${width/2},${height/2})`);
        
        const arcs = svg.selectAll("arc")
          .data(pie(data))
          .enter()
          .append("g");
        
        arcs.append("path")
          .attr("d", arc)
          .attr("fill", (d, i) => color(i))
          .append("title")
          .text(d => `${d.data.segment}: ${d.data.revenue}%`);
        
        arcs.append("text")
          .attr("transform", d => `translate(${arc.centroid(d)})`)
          .attr("text-anchor", "middle")
          .text(d => d.data.segment);
    </script>
</body>
</html>
