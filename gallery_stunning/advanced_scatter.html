
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Advanced Car Analysis - Multi-Dimensional Scatter Plot</title>
    <script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script>
    <script src="https://unpkg.com/@observablehq/plot@0.6/dist/plot.umd.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            margin: 0;
            padding: 40px;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        .header {
            padding: 40px 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        h1 { 
            margin: 0;
            font-size: 32px;
            font-weight: 700;
        }
        .subtitle { 
            margin: 8px 0 0;
            font-size: 18px; 
            opacity: 0.9;
        }
        .plot-container {
            padding: 40px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚗 Advanced Car Analysis</h1>
            <div class="subtitle">Multi-dimensional analysis with size, color, and price encoding</div>
        </div>
        <div class="plot-container">
            <div id="plot"></div>
        </div>
    </div>
    
    <script>
        const data = [{"mpg":19.879,"horsepower":121.8161,"weight":2.4054,"cylinders":"8","transmission":"Manual","price":33592,"brand_category":"Luxury"},{"mpg":20.5396,"horsepower":121.5356,"weight":2.6492,"cylinders":"6","transmission":"Manual","price":24781,"brand_category":"Luxury"},{"mpg":25.9174,"horsepower":97.983,"weight":2.0384,"cylinders":"8","transmission":"Manual","price":24733,"brand_category":"Economy"},{"mpg":21.541,"horsepower":94.8744,"weight":2.8992,"cylinders":"6","transmission":"Automatic","price":12871,"brand_category":"Economy"},{"mpg":18.9586,"horsepower":173.2082,"weight":3.3089,"cylinders":"6","transmission":"Automatic","price":31323,"brand_category":"Sports"},{"mpg":21.5301,"horsepower":100.7941,"weight":3.5594,"cylinders":"6","transmission":"Automatic","price":23314,"brand_category":"Sports"},{"mpg":15.2218,"horsepower":253.4448,"weight":2.9657,"cylinders":"8","transmission":"Automatic","price":19746,"brand_category":"Sports"},{"mpg":21.8699,"horsepower":56.4134,"weight":3.2536,"cylinders":"8","transmission":"Automatic","price":13704,"brand_category":"Economy"},{"mpg":21.4263,"horsepower":109.6546,"weight":3.521,"cylinders":"8","transmission":"Automatic","price":22602,"brand_category":"Economy"},{"mpg":18.3087,"horsepower":117.3813,"weight":4.0513,"cylinders":"4","transmission":"Manual","price":18208,"brand_category":"Sports"},{"mpg":20.2482,"horsepower":138.7907,"weight":3.8304,"cylinders":"4","transmission":"Manual","price":21824,"brand_category":"Economy"},{"mpg":17.1196,"horsepower":164.2623,"weight":4.297,"cylinders":"4","transmission":"Automatic","price":15259,"brand_category":"Luxury"},{"mpg":18.1015,"horsepower":161.0977,"weight":3.212,"cylinders":"8","transmission":"Automatic","price":38501,"brand_category":"Luxury"},{"mpg":15.4214,"horsepower":228.6156,"weight":3.5995,"cylinders":"6","transmission":"Automatic","price":24872,"brand_category":"Economy"},{"mpg":9.2883,"horsepower":198.7471,"weight":5.1444,"cylinders":"4","transmission":"Automatic","price":33600,"brand_category":"Economy"},{"mpg":13.9738,"horsepower":219.4734,"weight":5.6351,"cylinders":"8","transmission":"Manual","price":4186,"brand_category":"Economy"},{"mpg":15.6957,"horsepower":239.5485,"weight":5.3133,"cylinders":"6","transmission":"Automatic","price":21374,"brand_category":"Economy"},{"mpg":28.4668,"horsepower":58.7433,"weight":1.8224,"cylinders":"6","transmission":"Automatic","price":19596,"brand_category":"Economy"},{"mpg":31.8027,"horsepower":59.7529,"weight":2.1203,"cylinders":"4","transmission":"Manual","price":15217,"brand_category":"Economy"},{"mpg":32.9544,"horsepower":70.5345,"weight":2.1084,"cylinders":"4","transmission":"Automatic","price":37373,"brand_category":"Economy"},{"mpg":19.3644,"horsepower":93.7693,"weight":2.5362,"cylinders":"8","transmission":"Manual","price":13678,"brand_category":"Sports"},{"mpg":15.0641,"horsepower":150.9794,"weight":3.8854,"cylinders":"4","transmission":"Manual","price":27547,"brand_category":"Economy"},{"mpg":13.148,"horsepower":149.489,"weight":3.0334,"cylinders":"4","transmission":"Manual","price":31771,"brand_category":"Sports"},{"mpg":11.8422,"horsepower":276.9268,"weight":4.0382,"cylinders":"8","transmission":"Manual","price":26426,"brand_category":"Economy"},{"mpg":17.9499,"horsepower":163.88,"weight":3.6881,"cylinders":"6","transmission":"Automatic","price":17998,"brand_category":"Sports"},{"mpg":23.9266,"horsepower":49.5601,"weight":2.1401,"cylinders":"6","transmission":"Automatic","price":32529,"brand_category":"Economy"},{"mpg":27.6756,"horsepower":91.5668,"weight":2.1218,"cylinders":"4","transmission":"Automatic","price":26365,"brand_category":"Economy"},{"mpg":30.7067,"horsepower":117.6572,"weight":1.7029,"cylinders":"6","transmission":"Automatic","price":16492,"brand_category":"Economy"},{"mpg":13.5237,"horsepower":270.5479,"weight":3.5707,"cylinders":"4","transmission":"Automatic","price":13896,"brand_category":"Sports"},{"mpg":22.2076,"horsepower":168.1245,"weight":2.7722,"cylinders":"8","transmission":"Automatic","price":41694,"brand_category":"Economy"},{"mpg":15.8529,"horsepower":319.0501,"weight":3.8753,"cylinders":"8","transmission":"Automatic","price":19572,"brand_category":"Luxury"},{"mpg":20.8099,"horsepower":127.9478,"weight":2.4235,"cylinders":"4","transmission":"Automatic","price":10155,"brand_category":"Sports"},{"mpg":22.7903,"horsepower":104.7552,"weight":2.4035,"cylinders":"8","transmission":"Automatic","price":29266,"brand_category":"Luxury"},{"mpg":22.7563,"horsepower":97.0173,"weight":3.3308,"cylinders":"6","transmission":"Automatic","price":27482,"brand_category":"Economy"},{"mpg":24.4432,"horsepower":89.4558,"weight":2.4332,"cylinders":"8","transmission":"Manual","price":14169,"brand_category":"Economy"},{"mpg":22.7773,"horsepower":107.0424,"weight":2.5993,"cylinders":"4","transmission":"Automatic","price":9456,"brand_category":"Economy"},{"mpg":19.8078,"horsepower":191.6488,"weight":3.0308,"cylinders":"6","transmission":"Automatic","price":24070,"brand_category":"Economy"},{"mpg":17.9762,"horsepower":106.2711,"weight":3.3998,"cylinders":"8","transmission":"Automatic","price":34115,"brand_category":"Economy"},{"mpg":13.6881,"horsepower":256.3108,"weight":3.8297,"cylinders":"8","transmission":"Manual","price":30089,"brand_category":"Luxury"},{"mpg":23.6391,"horsepower":54.5106,"weight":3.1594,"cylinders":"4","transmission":"Automatic","price":21057,"brand_category":"Economy"},{"mpg":21.4106,"horsepower":98.2167,"weight":3.3373,"cylinders":"8","transmission":"Manual","price":18326,"brand_category":"Economy"},{"mpg":18.7842,"horsepower":118.1297,"weight":3.7277,"cylinders":"6","transmission":"Automatic","price":27169,"brand_category":"Sports"},{"mpg":15.2692,"horsepower":124.4188,"weight":3.9413,"cylinders":"4","transmission":"Automatic","price":26259,"brand_category":"Economy"},{"mpg":20.7379,"horsepower":166.5695,"weight":4.0868,"cylinders":"6","transmission":"Automatic","price":30038,"brand_category":"Sports"},{"mpg":19.7159,"horsepower":160.338,"weight":3.7144,"cylinders":"4","transmission":"Manual","price":21834,"brand_category":"Sports"},{"mpg":12.9538,"horsepower":209.9582,"weight":3.254,"cylinders":"4","transmission":"Manual","price":32195,"brand_category":"Economy"},{"mpg":9.5942,"horsepower":214.0106,"weight":5.2798,"cylinders":"6","transmission":"Manual","price":18354,"brand_category":"Economy"},{"mpg":9.4667,"horsepower":196.2309,"weight":5.2524,"cylinders":"4","transmission":"Automatic","price":22356,"brand_category":"Economy"},{"mpg":16.2599,"horsepower":220.8325,"weight":5.0528,"cylinders":"6","transmission":"Automatic","price":30927,"brand_category":"Sports"},{"mpg":32.2333,"horsepower":48.2178,"weight":2.146,"cylinders":"4","transmission":"Automatic","price":32920,"brand_category":"Luxury"},{"mpg":30.9066,"horsepower":84.9822,"weight":1.9195,"cylinders":"6","transmission":"Manual","price":9492,"brand_category":"Luxury"},{"mpg":33.8429,"horsepower":84.6862,"weight":1.2372,"cylinders":"4","transmission":"Manual","price":25858,"brand_category":"Economy"},{"mpg":21.4143,"horsepower":93.0228,"weight":2.3368,"cylinders":"8","transmission":"Automatic","price":29870,"brand_category":"Economy"},{"mpg":18.2372,"horsepower":158.1479,"weight":3.555,"cylinders":"4","transmission":"Manual","price":13393,"brand_category":"Economy"},{"mpg":14.7485,"horsepower":143.7849,"weight":3.167,"cylinders":"4","transmission":"Manual","price":28845,"brand_category":"Economy"},{"mpg":16.3329,"horsepower":237.8563,"weight":3.9402,"cylinders":"8","transmission":"Automatic","price":18375,"brand_category":"Economy"},{"mpg":16.1025,"horsepower":163.171,"weight":3.9684,"cylinders":"6","transmission":"Automatic","price":33162,"brand_category":"Sports"},{"mpg":28.4692,"horsepower":57.0807,"weight":1.9251,"cylinders":"4","transmission":"Manual","price":29308,"brand_category":"Economy"},{"mpg":26.2477,"horsepower":115.7636,"weight":1.4002,"cylinders":"6","transmission":"Manual","price":31152,"brand_category":"Economy"},{"mpg":30.8319,"horsepower":112.1896,"weight":2.2844,"cylinders":"6","transmission":"Automatic","price":25966,"brand_category":"Luxury"},{"mpg":16.5593,"horsepower":265.7887,"weight":3.1084,"cylinders":"6","transmission":"Automatic","price":31909,"brand_category":"Sports"},{"mpg":18.6954,"horsepower":178.6553,"weight":2.9654,"cylinders":"6","transmission":"Manual","price":36044,"brand_category":"Economy"},{"mpg":14.3336,"horsepower":353.4871,"weight":3.6521,"cylinders":"6","transmission":"Automatic","price":40730,"brand_category":"Luxury"},{"mpg":19.3628,"horsepower":101.259,"weight":3.0874,"cylinders":"4","transmission":"Automatic","price":24773,"brand_category":"Economy"},{"mpg":18.8564,"horsepower":95.1124,"weight":2.8653,"cylinders":"8","transmission":"Automatic","price":7008,"brand_category":"Sports"},{"mpg":21.6071,"horsepower":135.1355,"weight":2.8121,"cylinders":"6","transmission":"Automatic","price":25252,"brand_category":"Economy"},{"mpg":23.6964,"horsepower":86.3826,"weight":2.4335,"cylinders":"6","transmission":"Automatic","price":26644,"brand_category":"Economy"},{"mpg":21.506,"horsepower":99.154,"weight":2.9314,"cylinders":"4","transmission":"Manual","price":23757,"brand_category":"Luxury"},{"mpg":20.5445,"horsepower":156.4559,"weight":3.6971,"cylinders":"8","transmission":"Automatic","price":29546,"brand_category":"Economy"},{"mpg":22.2002,"horsepower":85.7293,"weight":3.3217,"cylinders":"6","transmission":"Automatic","price":33085,"brand_category":"Luxury"},{"mpg":13.3179,"horsepower":236.3904,"weight":4.295,"cylinders":"8","transmission":"Automatic","price":20856,"brand_category":"Economy"},{"mpg":19.7817,"horsepower":71.2698,"weight":2.6947,"cylinders":"4","transmission":"Automatic","price":22647,"brand_category":"Economy"},{"mpg":24.8115,"horsepower":111.6477,"weight":3.0108,"cylinders":"8","transmission":"Manual","price":28183,"brand_category":"Sports"},{"mpg":17.7816,"horsepower":133.6138,"weight":3.6876,"cylinders":"4","transmission":"Automatic","price":20598,"brand_category":"Economy"},{"mpg":16.424,"horsepower":117.5451,"weight":3.593,"cylinders":"4","transmission":"Automatic","price":25730,"brand_category":"Economy"},{"mpg":18.4511,"horsepower":180.8962,"weight":3.8932,"cylinders":"6","transmission":"Automatic","price":9306,"brand_category":"Sports"},{"mpg":16.7305,"horsepower":169.4311,"weight":3.431,"cylinders":"8","transmission":"Manual","price":16041,"brand_category":"Economy"},{"mpg":12.7586,"horsepower":169.2417,"weight":3.8233,"cylinders":"4","transmission":"Automatic","price":14378,"brand_category":"Economy"},{"mpg":10.7626,"horsepower":218.2698,"weight":5.2457,"cylinders":"4","transmission":"Automatic","price":18171,"brand_category":"Economy"},{"mpg":10.1222,"horsepower":199.7661,"weight":4.8869,"cylinders":"6","transmission":"Automatic","price":19454,"brand_category":"Economy"},{"mpg":14.7115,"horsepower":259.3294,"weight":5.3554,"cylinders":"6","transmission":"Automatic","price":28058,"brand_category":"Sports"},{"mpg":33.1706,"horsepower":64.6452,"weight":2.2571,"cylinders":"6","transmission":"Manual","price":32857,"brand_category":"Economy"},{"mpg":29.6587,"horsepower":55.2181,"weight":1.6674,"cylinders":"8","transmission":"Manual","price":19181,"brand_category":"Economy"},{"mpg":35.1888,"horsepower":53.9221,"weight":1.5185,"cylinders":"6","transmission":"Automatic","price":17025,"brand_category":"Economy"},{"mpg":21.059,"horsepower":88.3842,"weight":2.6078,"cylinders":"8","transmission":"Manual","price":16666,"brand_category":"Luxury"},{"mpg":16.1636,"horsepower":130.2448,"weight":3.9336,"cylinders":"8","transmission":"Manual","price":21683,"brand_category":"Sports"},{"mpg":17.3937,"horsepower":147.2561,"weight":3.5719,"cylinders":"4","transmission":"Automatic","price":23088,"brand_category":"Sports"},{"mpg":14.1704,"horsepower":251.2847,"weight":3.4993,"cylinders":"4","transmission":"Automatic","price":28869,"brand_category":"Economy"},{"mpg":18.5481,"horsepower":179.8646,"weight":3.7143,"cylinders":"4","transmission":"Automatic","price":22429,"brand_category":"Economy"},{"mpg":29.5976,"horsepower":54.277,"weight":2.0388,"cylinders":"6","transmission":"Automatic","price":8372,"brand_category":"Economy"},{"mpg":27.987,"horsepower":79.1707,"weight":1.9459,"cylinders":"4","transmission":"Manual","price":24269,"brand_category":"Sports"},{"mpg":31.4968,"horsepower":105.467,"weight":0.8657,"cylinders":"4","transmission":"Automatic","price":34497,"brand_category":"Luxury"},{"mpg":16.2775,"horsepower":286.4409,"weight":3.4353,"cylinders":"6","transmission":"Automatic","price":34533,"brand_category":"Sports"},{"mpg":18.4442,"horsepower":157.9404,"weight":2.5212,"cylinders":"6","transmission":"Manual","price":18688,"brand_category":"Sports"},{"mpg":17.7213,"horsepower":332.3142,"weight":3.3979,"cylinders":"6","transmission":"Automatic","price":12618,"brand_category":"Economy"},{"mpg":20.1995,"horsepower":137.5354,"weight":3.2312,"cylinders":"8","transmission":"Automatic","price":44664,"brand_category":"Economy"},{"mpg":25.3747,"horsepower":108.4854,"weight":2.3878,"cylinders":"6","transmission":"Automatic","price":23701,"brand_category":"Sports"},{"mpg":24.0652,"horsepower":89.6024,"weight":3.1287,"cylinders":"4","transmission":"Automatic","price":24220,"brand_category":"Economy"},{"mpg":22.3286,"horsepower":83.0285,"weight":1.9418,"cylinders":"6","transmission":"Automatic","price":28365,"brand_category":"Sports"},{"mpg":19.3472,"horsepower":117.2819,"weight":3.1086,"cylinders":"4","transmission":"Automatic","price":12088,"brand_category":"Economy"},{"mpg":17.2792,"horsepower":169.366,"weight":3.4179,"cylinders":"4","transmission":"Manual","price":19174,"brand_category":"Sports"},{"mpg":18.6138,"horsepower":96.5719,"weight":3.1094,"cylinders":"6","transmission":"Automatic","price":12676,"brand_category":"Economy"},{"mpg":13.8066,"horsepower":239.8412,"weight":3.3796,"cylinders":"4","transmission":"Manual","price":19455,"brand_category":"Economy"},{"mpg":23.7049,"horsepower":63.3574,"weight":3.1813,"cylinders":"8","transmission":"Manual","price":25951,"brand_category":"Luxury"},{"mpg":20.8968,"horsepower":118.9776,"weight":3.3512,"cylinders":"8","transmission":"Automatic","price":14082,"brand_category":"Luxury"},{"mpg":19.1099,"horsepower":121.6715,"weight":2.9448,"cylinders":"6","transmission":"Automatic","price":29720,"brand_category":"Economy"},{"mpg":16.2302,"horsepower":139.212,"weight":3.3351,"cylinders":"8","transmission":"Automatic","price":27315,"brand_category":"Luxury"},{"mpg":13.0641,"horsepower":189.4613,"weight":4.2969,"cylinders":"4","transmission":"Manual","price":17766,"brand_category":"Economy"},{"mpg":16.5395,"horsepower":178.2954,"weight":3.5684,"cylinders":"4","transmission":"Automatic","price":26811,"brand_category":"Sports"},{"mpg":17.038,"horsepower":157.0065,"weight":3.8482,"cylinders":"6","transmission":"Automatic","price":30985,"brand_category":"Economy"},{"mpg":9.2493,"horsepower":197.1832,"weight":5.3977,"cylinders":"6","transmission":"Automatic","price":33489,"brand_category":"Sports"},{"mpg":11.6159,"horsepower":207.6519,"weight":5.5044,"cylinders":"4","transmission":"Automatic","price":23297,"brand_category":"Sports"},{"mpg":11.4642,"horsepower":230.7073,"weight":5.541,"cylinders":"4","transmission":"Automatic","price":24251,"brand_category":"Economy"},{"mpg":32.2889,"horsepower":85.503,"weight":2.1632,"cylinders":"6","transmission":"Automatic","price":24306,"brand_category":"Luxury"},{"mpg":31.4388,"horsepower":86.3962,"weight":1.4909,"cylinders":"4","transmission":"Automatic","price":36532,"brand_category":"Luxury"},{"mpg":34.5023,"horsepower":88.2137,"weight":1.0421,"cylinders":"8","transmission":"Automatic","price":34001,"brand_category":"Economy"},{"mpg":21.7114,"horsepower":95.0027,"weight":2.4371,"cylinders":"6","transmission":"Automatic","price":31675,"brand_category":"Sports"},{"mpg":14.2186,"horsepower":123.6521,"weight":3.6491,"cylinders":"6","transmission":"Automatic","price":22701,"brand_category":"Economy"},{"mpg":13.5006,"horsepower":144.1683,"weight":3.5956,"cylinders":"6","transmission":"Automatic","price":27986,"brand_category":"Economy"},{"mpg":11.2517,"horsepower":246.3381,"weight":3.6734,"cylinders":"4","transmission":"Manual","price":28226,"brand_category":"Economy"},{"mpg":19.4353,"horsepower":187.6752,"weight":4.3789,"cylinders":"6","transmission":"Automatic","price":16667,"brand_category":"Economy"},{"mpg":25.4051,"horsepower":80.4379,"weight":2.0209,"cylinders":"8","transmission":"Automatic","price":11174,"brand_category":"Economy"},{"mpg":25.0189,"horsepower":101.2646,"weight":2.1779,"cylinders":"6","transmission":"Automatic","price":30135,"brand_category":"Economy"},{"mpg":29.8878,"horsepower":92.0709,"weight":1.8947,"cylinders":"4","transmission":"Manual","price":12766,"brand_category":"Sports"},{"mpg":19.4877,"horsepower":276.7446,"weight":2.9545,"cylinders":"8","transmission":"Automatic","price":25013,"brand_category":"Economy"},{"mpg":18.3961,"horsepower":168.3016,"weight":2.6349,"cylinders":"4","transmission":"Automatic","price":27002,"brand_category":"Luxury"},{"mpg":15.4708,"horsepower":337.622,"weight":4.2892,"cylinders":"6","transmission":"Manual","price":29511,"brand_category":"Sports"},{"mpg":21.5559,"horsepower":110.1183,"weight":2.7833,"cylinders":"6","transmission":"Automatic","price":26515,"brand_category":"Economy"},{"mpg":19.0763,"horsepower":116.4225,"weight":3.1101,"cylinders":"4","transmission":"Automatic","price":19137,"brand_category":"Sports"},{"mpg":20.8574,"horsepower":110.3701,"weight":2.4434,"cylinders":"6","transmission":"Automatic","price":32891,"brand_category":"Luxury"},{"mpg":25.6891,"horsepower":67.9879,"weight":2.2628,"cylinders":"4","transmission":"Automatic","price":38909,"brand_category":"Sports"},{"mpg":22.303,"horsepower":121.0474,"weight":3.3285,"cylinders":"6","transmission":"Automatic","price":32049,"brand_category":"Sports"},{"mpg":18.7825,"horsepower":180.7904,"weight":3.53,"cylinders":"6","transmission":"Automatic","price":9451,"brand_category":"Economy"},{"mpg":17.255,"horsepower":101.0152,"weight":3.1583,"cylinders":"4","transmission":"Manual","price":36197,"brand_category":"Sports"},{"mpg":10.1935,"horsepower":246.7722,"weight":3.5758,"cylinders":"6","transmission":"Manual","price":24552,"brand_category":"Luxury"},{"mpg":26.6627,"horsepower":64.0106,"weight":2.8668,"cylinders":"6","transmission":"Automatic","price":29199,"brand_category":"Luxury"},{"mpg":19.8787,"horsepower":98.3153,"weight":3.3638,"cylinders":"4","transmission":"Automatic","price":29976,"brand_category":"Economy"},{"mpg":20.6799,"horsepower":147.6127,"weight":3.7654,"cylinders":"6","transmission":"Manual","price":24227,"brand_category":"Economy"},{"mpg":21.6182,"horsepower":119.7142,"weight":2.7725,"cylinders":"6","transmission":"Automatic","price":24398,"brand_category":"Economy"},{"mpg":13.5122,"horsepower":182.521,"weight":4.4407,"cylinders":"6","transmission":"Automatic","price":33153,"brand_category":"Sports"},{"mpg":18.7036,"horsepower":197.5258,"weight":3.3577,"cylinders":"8","transmission":"Automatic","price":30693,"brand_category":"Economy"},{"mpg":14.6756,"horsepower":195.8127,"weight":3.9164,"cylinders":"6","transmission":"Automatic","price":32922,"brand_category":"Luxury"},{"mpg":7.2557,"horsepower":222.1789,"weight":5.448,"cylinders":"6","transmission":"Automatic","price":44063,"brand_category":"Sports"},{"mpg":7.3707,"horsepower":206.338,"weight":5.364,"cylinders":"6","transmission":"Manual","price":30315,"brand_category":"Luxury"},{"mpg":11.4969,"horsepower":260.0372,"weight":5.1515,"cylinders":"4","transmission":"Automatic","price":26659,"brand_category":"Economy"},{"mpg":31.3382,"horsepower":67.0005,"weight":2.2496,"cylinders":"4","transmission":"Automatic","price":7315,"brand_category":"Luxury"},{"mpg":27.4765,"horsepower":80.0028,"weight":1.7466,"cylinders":"4","transmission":"Manual","price":46534,"brand_category":"Sports"},{"mpg":35.2758,"horsepower":44.7365,"weight":2.1,"cylinders":"4","transmission":"Automatic","price":21139,"brand_category":"Luxury"},{"mpg":25.7002,"horsepower":97.3148,"weight":1.8493,"cylinders":"8","transmission":"Manual","price":43998,"brand_category":"Economy"},{"mpg":12.9259,"horsepower":168.7487,"weight":3.0291,"cylinders":"8","transmission":"Automatic","price":27997,"brand_category":"Economy"}];
        
        const plot = Plot.plot({
            marks: [
                // Background grid
                Plot.gridX({strokeOpacity: 0.1}),
                Plot.gridY({strokeOpacity: 0.1}),
                
                // Main scatter plot
                Plot.dot(data, {
                    x: "horsepower",
                    y: "mpg",
                    r: d => Math.sqrt(d.weight) * 3,
                    fill: "cylinders", 
                    stroke: "brand_category",
                    strokeWidth: 2,
                    opacity: 0.7,
                    title: d => `🚗 Car Details\n⚡ Horsepower: ${Math.round(d.horsepower)}\n⛽ MPG: ${Math.round(d.mpg)}\n⚖️ Weight: ${Math.round(d.weight * 1000)} lbs\n🔧 ${d.cylinders} cylinders\n🏷️ ${d.brand_category}\n💰 $${d.price.toLocaleString()}`
                })
            ],
            width: 1000,
            height: 600,
            x: {
                label: "Horsepower →",
                grid: true,
                nice: true
            },
            y: {
                label: "↑ Miles per Gallon (MPG)",
                grid: true, 
                nice: true
            },
            r: {
                range: [3, 15],
                label: "Weight"
            },
            color: {
                domain: ["4", "6", "8"],
                range: ["#22c55e", "#3b82f6", "#ef4444"],
                legend: true,
                label: "Cylinders"
            },
            stroke: {
                domain: ["Economy", "Luxury", "Sports"],
                range: ["#64748b", "#fbbf24", "#8b5cf6"],
                legend: true,
                label: "Category"
            },
            marginTop: 60,
            marginBottom: 80,
            marginLeft: 100,
            marginRight: 200
        });
        
        document.getElementById("plot").appendChild(plot);
    </script>
</body>
</html>
